{"version":3,"sources":["components/header-button/index.js","containers/search/index.js","assests/config/constants.js","assests/config/swapi.config.js","redux-stuff/reducers/category-slice.js","containers/header/index.js","components/home/index.js","containers/right-section/index.js","components/left-section-item/index.js","redux-stuff/reducers/error-slice.js","components/page-button/index.js","containers/page-buttons-container/index.js","containers/pagination/index.js","containers/left-section/index.js","containers/category/index.js","assests/hooks/usePortal.js","containers/portal/index.js","components/loader/index.js","containers/error-page/index.js","containers/app/index.js","serviceWorker.js","redux-stuff/reducers/index.js","redux-stuff/sagas/category-saga.js","redux-stuff/sagas/index.js","index.js"],"names":["HeaderButton","children","className","Search","useState","query","setQuery","pathname","useLocation","category","split","isDisabled","length","disabled","type","placeholder","value","onChange","e","target","to","regExps","string","number","page","search","notFoundTypes","pageExpTest","str","test","getFirstValue","item","Object","keys","urlBuilder","set","url","cutUrl","includes","replace","replaceUrl","categories","match","filterParams","searchResults","searchInCategory","fieldName","fieldValue","searchData","pages","singleSearch","result","i","j","push","getSearchQuery","searchExpTest","categorySlice","createSlice","slice","initialState","isFetching","entities","reducers","requestAll","state","receiveAll","action","payload","map","name","count","activePage","results","requestPage","receivePage","json","setActivePage","Number","requestItem","receiveItem","cancelFetching","searchRequest","receiveSearchData","forEach","actions","fetchDataFail","React","memo","useSelector","connectionError","errors","isError","categoriesNames","dispatch","useDispatch","useEffect","exact","activeClassName","key","Home","RightSection","useRouteMatch","categoryName","useParams","itemKeys","items","style","background","Array","isArray","data","Fragment","isUrlCheck","LeftSectionItem","title","errorSlice","log","notFoundError","undefined","setConnectionError","setNotFoundError","PageButton","clickHandler","onClick","PageButtonsContainer","nums","clicHandler","templateColumns","gridSettings","num","columns","row","Math","floor","column","Pagination","pagesCount","showLeftStep","showLeftDots","showRightStep","showRightDots","prevPages","setPrevPages","nextPages","setNextPages","isShownPrevPages","togglePrevPages","isShownNextPages","toggleNextPages","pagesRange","start","end","hidePageButtons","newPages","LeftSection","searchStr","searchQuery","trim","entitiesCount","totalCount","ceil","currentCount","path","component","usePortal","id","rootElemRef","useRef","rootElem","existingParent","document","querySelector","parentElem","rootContainer","createElement","setAttribute","createRootElement","body","insertBefore","lastElementChild","nextElementSibling","appendChild","current","remove","childNodes","Portal","createPortal","Loader","ErrorPage","classNames","App","Boolean","window","location","hostname","combineReducers","errorsReducer","categoriesReducer","reqAllCategoryNames","watchReqAll","reqPage","watchReqPage","makeSearch","watchSearch","fetchItem","watchReqItem","call","fetch","then","res","names","put","message","takeEvery","toString","rootSaga","all","sagaMiddleWare","createSagaMiddleware","store","configureStore","reducer","rootReducer","middleware","run","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ea27eb77.chunk.js","sourcesContent":["import React from 'react';\n\nimport './index.scss';\n\nconst HeaderButton = ({children}) => {\n  return(\n    <button className=\"header-item header-button\">\n      {children}\n    </button>\n);}\n\nexport default HeaderButton;","import React, { useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport HeaderButton from \"../../components/header-button\";\n\nimport \"./index.scss\";\n\nconst Search = () => {\n  const [query, setQuery] = useState(\"\");\n  const { pathname } = useLocation();\n  const category = pathname.split(\"/\")[1];\n  const isDisabled = pathname.length === 1;\n  return (\n    <div className=\"search\">\n      <input\n        disabled={isDisabled}\n        type=\"text\"\n        placeholder=\"Search\"\n        value={query}\n        onChange={e => {\n          setQuery(e.target.value);\n        }}\n      />\n      {isDisabled ? (\n        <HeaderButton>Search</HeaderButton>\n      ) : (\n        <HeaderButton>\n          <Link to={`/${category}/?search=${query}`}>Search</Link>\n        </HeaderButton>\n      )}\n    </div>\n  );\n};\n\nexport default Search;\n","export const SWAPI_BASE_URL = 'https://swapi.co/api'\nconst CORS_BREAK = 'http://cors-anywhere.herokuapp.com/'\n//export const API_BASE = CORS_BREAK + SWAPI_BASE_URL\nexport const API_BASE = '/api'\n\nexport const ITEMS_ON_PAGE = 10\n\nexport const regExps = {\n  string: /[a-z]+/,\n  number: /[0-9]+/,\n  page: /\\?page=[0-9]+/,\n  search: /\\?search=.+/\n}\n\nexport const notFoundTypes = {\n  category: 'CATEGORY',\n  page: 'PAGE'\n}\n\nexport const SEARCH_FIELDS = [\n  \"name\", \"title\", \"model\"\n]","import {\n  SWAPI_BASE_URL,\n  ITEMS_ON_PAGE,\n  regExps,\n  SEARCH_FIELDS,\n  API_BASE\n} from \"./constants\";\n\nexport const pageExpTest = str => regExps.page.test(str);\n\nexport const calcId = (page, i) => (page - 1) * ITEMS_ON_PAGE + i + 1;\n\nexport const calcIdFromUrl = id =>\n  id % ITEMS_ON_PAGE === 0 ? ITEMS_ON_PAGE - 1 : (id % ITEMS_ON_PAGE) - 1;\n\nexport const calcPage = id => Math.ceil(id / ITEMS_ON_PAGE);\n\nexport const getFirstValue = item => {\n  const keys = Object.keys(item);\n  return item[keys[0]];\n};\n\nexport const urlBuilder = (set = {}) => {\n  const { category, page, search, url } = set;\n  if (category && !page && !search) return `${API_BASE}/${category}`;\n  else if (category && page > 0 && !search)\n    return `${API_BASE}/${category}/?page=${page}`;\n  else if (category && !page && search)\n    return `${API_BASE}/${category}/?search=${search}`;\n  else if (url && !category && !page && !search) return `${API_BASE}${url}`;\n  else return API_BASE;\n};\n\nexport const filterParams = (set = {}) => {\n  const { string, number } = set;\n  return string\n    ? string.match(regExps.string)[0]\n    : number\n    ? typeof number === \"number\"\n      ? number\n      : number.match(regExps.number)[0]\n    : null;\n};\n\nexport const getPageFromSearch = searchStr => {\n  if (pageExpTest(searchStr)) {\n    return searchStr.match(regExps.number)[0];\n  } else return 1;\n};\n\nexport const lowDashReplacer = str => str.replace(/_/g, \" \");\n\nexport const cutUrl = str =>\n  str.includes(SWAPI_BASE_URL) ? str.replace(SWAPI_BASE_URL, \"\") : str;\n\nexport const isUrlCheck = str => /https/.test(str)\n\nexport const replaceUrl = (categories, url) => {\n  const myUrl = cutUrl(url)\n  const categoryName = filterParams({ string: myUrl });\n  const category = categories[categoryName]\n  const searchResults = searchInCategory(category, {fieldName: \"url\", fieldValue: url})\n  const item = searchResults.length > 0 ? searchResults[0] : null \n    \n  return item ? getFirstValue(item) : null;\n};\n\nexport const searchInCategory = (category = {}, searchData = {}) => {\n  const { pages } = category;\n  const { fieldName, fieldValue } = searchData;\n  const singleSearch = fieldName === \"url\";\n  const result = [];\n\n  if (pages && fieldName && fieldValue) {\n    for (let i = 0; i < pages.length; i++) {\n      const page = pages[i];\n      if (page) {\n        for (let j = 0; j < page.length; j++) {\n          const item = page[j];\n          if (item[fieldName].includes(fieldValue)) {\n            result.push(item);\n            if (singleSearch) return result;\n          }\n        }\n      }\n      if (singleSearch && result.length > 0) return result;\n    }\n    return result;\n  }\n  return result;\n};\n\nexport const searchData = (set = {}) => {\n  const { categories, category, query } = set;\n  const result = [];\n  if (categories && categories[category] && query) {\n    SEARCH_FIELDS.forEach(field => {\n      const iterResult = searchInCategory(categories[category], {\n        [field]: query\n      });\n      if (iterResult.length > 0) result.push(iterResult);\n    });\n  }\n  return result;\n};\n\nexport const searchExpTest = str => regExps.search.test(str)\n\nexport const getSearchQuery = str => searchExpTest(str) ? str.replace(\"?search=\", \"\") : null\n\nexport const replaceDubleSlash = str => str.replace(\"//\", \"/\")","import { createSlice } from \"redux-starter-kit\";\n\nimport {searchInCategory} from \"../../assests/config/swapi.config\"\n\nconst categorySlice = createSlice({\n  slice: \"categories\",\n  initialState: { isFetching: false, entities: {} },\n  reducers: {\n    requestAll(state) {\n      state.isFetching = true;\n    },\n    receiveAll(state, action) {\n      state.isFetching = false;\n      const categoriesNames = Object.keys(action.payload);\n      categoriesNames.map(\n        name => (state.entities[name] = { count: 0, activePage: 1, pages: [], search:{query: \"\", results: []} })\n      );\n    },\n    requestPage(state, action) {},\n    receivePage(state, action) {\n      const { category, json, page } = action.payload;\n      const { count, results } = json;\n      state.entities[category].count = count;\n      state.entities[category].pages[page] = results;\n    },\n    setActivePage(state, action) {\n      const { category, page } = action.payload;\n      state.entities[category].activePage = Number(page);\n    },\n    requestItem(state, action) {},\n    receiveItem(state, action) {\n      const { category, json } = action.payload;\n      if (state.entities[category].pages[0]) {\n        state.entities[category].pages[0].push(json.results[0]);\n      } else {\n        state.entities[category].pages[0] = [json.results[0]];\n      }\n    },\n    cancelFetching(state) {\n      state.isFetching = false;\n    },\n    searchRequest(state, action){},\n    receiveSearchData(state, action){\n      const {category, query, json} = action.payload\n      const searchResults = json.results\n      const pages = state.entities[category].pages\n      state.entities[category].search = {query, results: searchResults}\n\n      searchResults.forEach(item => {\n        if(searchInCategory(state.entities[category], {fieldName: \"url\", fieldValue: item.url}).length === 0){\n          if(pages[0]){\n            pages[0].push(item)\n          } else {\n            pages[0] = [item]\n          }\n        }\n      })\n      \n      \n    }\n  }\n});\n\nexport const {\n  requestAll,\n  receiveAll,\n  requestItem,\n  receiveItem,\n  setActivePage,\n  requestPage,\n  receivePage,\n  fetchDataFail,\n  cancelFetching,\n  searchRequest,\n  receiveSearchData,\n} = categorySlice.actions;\n\nexport default categorySlice.reducer;\n","import React, { useEffect } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\n\n//styles\nimport './index.scss'\n\n//components\nimport Search from '../search'\n\nimport {requestAll} from '../../redux-stuff/reducers/category-slice'\n\nconst Header = () => {\n  const categories = useSelector(state => state.categories)\n  const connectionError = useSelector(state => state.errors.connectionError.isError)\n  const categoriesNames = Object.keys(categories.entities)\n  const dispatch = useDispatch()\n  const { isFetching } = categories\n  \n  useEffect(() => {\n    if(!connectionError && !isFetching && categoriesNames.length === 0) {\n      dispatch(requestAll())\n    }\n  })\n  return (\n    <header>\n      <div className=\"header-section\">\n        <div className=\"header-logo header-item\">SWAPI</div>\n        <div className=\"header-item nav-top\">\n          <NavLink exact to=\"/\" activeClassName=\"selected\">\n            home\n          </NavLink>\n        </div>\n\n        {categoriesNames.map(name => (\n          <div key={name} className=\"header-item nav-top\">\n            <NavLink to={`/${name}`} activeClassName=\"selected\">\n              {name}\n            </NavLink>\n          </div>\n        ))}\n      </div>\n      <div className=\"header-section\">\n        <Search />\n      </div>\n    </header>\n  )\n}\n\nexport default React.memo(Header)\n","import React from 'react';\n\nimport './index.scss';\n\nconst Home = () => (\n  <div>\n    <h2>\n      Hello, this is Home component\n    </h2>\n  </div>\n)\n\nexport default Home;","import React, { useEffect } from \"react\";\nimport { useParams, Link, useRouteMatch } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { requestItem } from \"../../redux-stuff/reducers/category-slice\"\n\nimport {\n  lowDashReplacer,\n  cutUrl,\n  searchInCategory,\n  replaceUrl,\n  isUrlCheck\n} from \"../../assests/config/swapi.config\";\n\nimport \"./index.scss\";\n\nconst RightSection = () => {\n  const { url } = useRouteMatch();\n  const dispatch = useDispatch();\n  const { category: categoryName } = useParams();\n  const { entities, isFetching } = useSelector(state => state.categories);\n  const { connectionError } = useSelector(state => state.errors);\n  const category = entities[categoryName];\n\n  let itemKeys = [];\n  let items = [];\n  let item = null;\n\n  useEffect(() => {\n    if (!isFetching && !connectionError.isError && category && !item && searchInCategory(category, { fieldName: \"url\", fieldValue: url }).length === 0) {\n      dispatch(requestItem({ category: categoryName, url }));\n    }\n  });\n\n  if (!isFetching && category && url && !item) {\n    items = searchInCategory(category, { fieldName: \"url\", fieldValue: url });\n    item = items.length > 0 ? items[0] : null;\n    itemKeys = item ? Object.keys(item) : [];\n  }\n  return (\n    <section className=\"right-section\">\n      <div className=\"data-container\">\n        {item &&\n          itemKeys.length > 0 &&\n          itemKeys.map((key, i) => {\n            const style = {\n              background: i % 2 === 0 ? \"#efebe9\" : \"transparent\"\n            };\n            return (\n              <div className=\"row\" key={i} style={style}>\n                <div className=\"left-cell\">{lowDashReplacer(key)}</div>\n                <div className=\"right-cell\">\n                  {Array.isArray(item[key]) ? (\n                    item[key].map((data, i) => (\n                      <React.Fragment key={i}>\n                        <Link to={cutUrl(data)}>\n                          {replaceUrl(entities, data)\n                            ? replaceUrl(entities, data)\n                            : cutUrl(data)}\n                        </Link>{\" \"}\n                        <br></br>\n                      </React.Fragment>\n                    ))\n                  ) : isUrlCheck(item[key]) && cutUrl(item[key]) ? (\n                    <Link to={cutUrl(item[key])}>\n                      {key !== \"url\" && replaceUrl(entities, item[key])\n                        ? replaceUrl(entities, item[key])\n                        : cutUrl(item[key])}\n                    </Link>\n                  ) : (\n                    item[key]\n                  )}\n                </div>\n              </div>\n            );\n          })}\n      </div>\n    </section>\n  );\n};\n\nexport default RightSection;\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport './index.scss'\n\nconst LeftSectionItem = ({ title, to }) => {\n  return (\n    <div className=\"left-section-item\">\n      <NavLink to={to} activeClassName=\"selected-left\">\n        <h5>{title}</h5>\n      </NavLink>\n    </div>\n  )\n}\n\nexport default LeftSectionItem\n","import { createSlice } from 'redux-starter-kit'\n\nconst errorSlice = createSlice({\n  slice: \"errors\",\n  initialState: { connectionError: {isError: false, log: \"\"}, notFoundError: {isError: false, type: undefined, log: \"\"} },\n  reducers: {\n    setConnectionError(state, action){\n      const { isError, log } = action.payload\n      state.connectionError = { isError, log }\n    },\n    setNotFoundError(state, action){\n      const { isError, log, type } = action.payload\n      state.notFoundError = { isError, log, type }\n    }\n  }\n})\n\nexport const { setConnectionError, setNotFoundError } = errorSlice.actions\n\nexport default errorSlice.reducer","import React from 'react'\nimport {Link} from 'react-router-dom'\n\nimport './index.scss'\n\nimport {replaceDubleSlash} from \"../../assests/config/swapi.config\"\n\nconst PageButton = ({ children, to, clickHandler, style }) => {\n  return (\n    <button className=\"page-button\" onClick={clickHandler} style={style}>\n      {to ? (<Link to={replaceDubleSlash(to)}>{children}</Link>) : children}\n    </button>\n  )\n}\n\nexport default PageButton\n","import React from 'react'\r\nimport {useRouteMatch} from 'react-router-dom'\r\n\r\nimport PageButton from '../../components/page-button'\r\n\r\nimport './index.scss'\r\n\r\nconst PageButtonsContainer = ({ nums, clicHandler }) => {\r\n  const columns = 4\r\n  const templateColumns = nums.length >= columns ? columns : nums.length\r\n  const gridSettings = (num, columns)=> {\r\n    const row = Math.floor(num / (columns + 1)) + 1\r\n    const column = num % (columns ) === 0 ? columns : num % (columns)\r\n    return {\r\n      \"gridColumn\": `${column} / ${column + 1}`,\r\n      \"gridRow\": `${row} / ${row + 1}`\r\n    }\r\n  }\r\n  const { url } = useRouteMatch()\r\n  return (\r\n    <div className=\"page-buttons-container\" style={{\"gridTemplateColumns\": `repeat(${templateColumns}, 39px)`}}>\r\n      {nums.map((num, i) => {\r\n        return (\r\n            <PageButton key={num} to={`${url}/?page=${num}`} clickHandler={clicHandler} style={gridSettings(i + 1, columns)}>\r\n              {num}\r\n            </PageButton>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PageButtonsContainer","import React, { useState } from 'react'\nimport { useRouteMatch } from 'react-router-dom'\n\nimport './index.scss'\n\nimport PageButton from '../../components/page-button'\nimport PageButtonsContainer from '../page-buttons-container'\n\nconst Pagination = ({ page, pagesCount }) => {\n  const showLeftStep = page > 1\n  const showLeftDots = page > 2\n  const showRightStep = page < pagesCount\n  const showRightDots = pagesCount - page > 1\n  const [prevPages, setPrevPages] = useState([])\n  const [nextPages, setNextPages] = useState([])\n  const [isShownPrevPages, togglePrevPages] = useState(false)\n  const [isShownNextPages, toggleNextPages] = useState(false)\n\n  const { url } = useRouteMatch()\n\n  const pagesRange = function* (start, end){\n    while(start < end){\n      yield start++\n    }\n  }\n\n  const leftDotsClickHandler = () => {\n    const newPages = pagesRange(1, page)\n\n    setPrevPages([...newPages])\n    togglePrevPages(!isShownPrevPages)\n    toggleNextPages(false)\n  }\n  const rightDotsClickHandler = () => {\n    const newPages = pagesRange(page + 1, pagesCount + 1)\n    \n    setNextPages([...newPages])\n    toggleNextPages(!isShownNextPages)\n    togglePrevPages(false)\n  }\n\n  const hidePageButtons = () => {\n    toggleNextPages(false)\n    togglePrevPages(false)\n  }\n\n  return (\n    <div className=\"pagination\">\n      {prevPages.length > 0 && isShownPrevPages && (\n        <PageButtonsContainer nums={prevPages} clicHandler={hidePageButtons}/>\n      )}\n      {nextPages.length > 0 && isShownNextPages && (\n        <PageButtonsContainer nums={nextPages} clicHandler={hidePageButtons}/>\n      )}\n      <ul>\n        {showLeftStep && (\n          <li onClick={hidePageButtons}>\n            <PageButton to={`${url}/?page=${page - 1}`}>{'<'}</PageButton>\n          </li>\n        )}\n        {showLeftDots && (\n          <li onClick={leftDotsClickHandler}>\n            <PageButton>{'...'}</PageButton>\n          </li>\n        )}\n        <li onClick={hidePageButtons}>\n          <PageButton>{page}</PageButton>\n        </li>\n        {showRightDots && (\n          <li onClick={rightDotsClickHandler}>\n            <PageButton>{'...'}</PageButton>\n          </li>\n        )}\n        {showRightStep && (\n          <li onClick={hidePageButtons}>\n            <PageButton to={`${url}/?page=${page + 1}`}>{'>'}</PageButton>\n          </li>\n        )}\n      </ul>\n    </div>\n  )\n}\n\nexport default Pagination\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useParams, useLocation } from \"react-router-dom\";\n\nimport \"./index.scss\";\n\nimport LeftSectionItem from \"../../components/left-section-item\";\n\nimport { ITEMS_ON_PAGE, notFoundTypes } from \"../../assests/config/constants\";\n\nimport { setNotFoundError } from \"../../redux-stuff/reducers/error-slice\";\nimport {\n  setActivePage,\n  requestPage,\n  searchRequest\n} from \"../../redux-stuff/reducers/category-slice\";\nimport {\n  getPageFromSearch,\n  pageExpTest,\n  getFirstValue,\n  cutUrl,\n  getSearchQuery\n} from \"../../assests/config/swapi.config\";\nimport Pagination from \"../pagination\";\n\nconst LeftSection = () => {\n  const { category: categoryName } = useParams();\n  const { pathname, search } = useLocation();\n  const page =\n    `/${categoryName}/` === pathname ? getPageFromSearch(search) : undefined;\n  const searchQuery =\n    `/${categoryName}/` === pathname &&\n    getSearchQuery(search) &&\n    getSearchQuery(search).trim().length > 0\n      ? getSearchQuery(search).trim()\n      : null;\n  const { entities, isFetching } = useSelector(state => state.categories);\n  const { connectionError, notFoundError } = useSelector(state => state.errors);\n  const category = entities[categoryName];\n  const activePage = category ? category.activePage : 1;\n  const categoriesNames = Object.keys(entities);\n  const entitiesCount = categoriesNames.length;\n  const dispatch = useDispatch();\n  const totalCount = category ? (category.count ? category.count : 0) : 0;\n  const pagesCount = totalCount ? Math.ceil(totalCount / ITEMS_ON_PAGE) : 0;\n  let items = [];\n  let currentCount = 0;\n\n  useEffect(() => {\n    if (entitiesCount > 0 && !connectionError.isError) {\n      if (categoriesNames.includes(categoryName)) {\n        if (notFoundError.isError)\n          dispatch(\n            setNotFoundError({ isError: false, type: undefined, log: \"\" })\n          );\n        if (!searchQuery && category.pages && !category.pages[activePage]) {\n          dispatch(requestPage({ category: categoryName, page: activePage }));\n        } else if (searchQuery && category.search.query !== searchQuery) {\n          dispatch(\n            searchRequest({ category: categoryName, search: searchQuery })\n          );\n        }\n      } else\n        dispatch(\n          setNotFoundError({\n            isError: true,\n            type: notFoundTypes.category,\n            log: categoryName\n          })\n        );\n    }\n  });\n  useEffect(() => {\n    if (\n      !isFetching &&\n      !connectionError.isError &&\n      category &&\n      pageExpTest(search) &&\n      !searchQuery &&\n      page\n    ) {\n      dispatch(setActivePage({ category: categoryName, page }));\n    }\n  });\n\n  if (\n    category &&\n    category.pages &&\n    category.pages[activePage] &&\n    !searchQuery\n  ) {\n    items = category.pages[activePage];\n    currentCount = items.length;\n  } else if (\n    category &&\n    category.search &&\n    searchQuery &&\n    category.search.query === searchQuery\n  ) {\n    items = category.search.results;\n  }\n  return (\n    <section className=\"left-section\">\n      {items.map((item, i) => {\n        return (\n          <LeftSectionItem\n            key={i}\n            title={getFirstValue(item)}\n            to={cutUrl(item.url)}\n          />\n        );\n      })}\n      {!searchQuery && pagesCount > 1 && (\n        <Pagination page={activePage} pagesCount={pagesCount} />\n      )}\n      {!searchQuery && currentCount > 0 && (\n        <div className=\"legend\">\n          {`${(activePage - 1) * ITEMS_ON_PAGE + 1} - ${(activePage - 1) *\n            ITEMS_ON_PAGE +\n            currentCount} of ${totalCount}`}\n        </div>\n      )}\n    </section>\n  );\n};\n\nexport default LeftSection;\n","import React from 'react'\nimport { Route, Switch, useRouteMatch } from 'react-router-dom'\n\nimport './index.scss'\n\nimport RightSection from '../right-section'\nimport LeftSection from '../left-section'\n\nconst Category = () => {\n  const { path } = useRouteMatch()\n\n  return (\n    <section className=\"category-section\">\n      <LeftSection />\n      <Switch>\n        <Route exact path={path}>\n          Select item from left part\n        </Route>\n        <Route path={`${path}/:id`} component={RightSection} />\n      </Switch>\n    </section>\n  )\n}\n\nexport default React.memo(Category)","/**\n * got this code from @link https://www.jayfreestone.com/writing/react-portals-with-hooks/\n */\n\nimport { useRef, useEffect } from 'react';\n\n/**\n * Creates DOM element to be used as React root.\n * @returns {HTMLElement}\n */\nfunction createRootElement(id) {\n  const rootContainer = document.createElement('div');\n  rootContainer.setAttribute('id', id);\n  return rootContainer;\n}\n\n/**\n * Appends element as last child of body.\n * @param {HTMLElement} rootElem \n */\nfunction addRootElement(rootElem) {\n  document.body.insertBefore(\n    rootElem,\n    document.body.lastElementChild.nextElementSibling,\n  );\n}\n\n/**\n * Hook to create a React Portal.\n * Automatically handles creating and tearing-down the root elements (no SRR\n * makes this trivial), so there is no need to ensure the parent target already\n * exists.\n * @example\n * const target = usePortal(id, [id]);\n * return createPortal(children, target);\n * @param {String} id The id of the target container, e.g 'modal' or 'spotlight'\n * @returns {HTMLElement} The DOM node to use as the Portal target.\n */\nfunction usePortal(id) {\n  const rootElemRef = useRef(null);\n\n  useEffect(function setupElement() {\n    // Look for existing target dom element to append to\n    const existingParent = document.querySelector(`#${id}`);\n    // Parent is either a new root or the existing dom element\n    const parentElem = existingParent || createRootElement(id);\n\n    // If there is no existing DOM element, add a new one.\n    if (!existingParent) {\n      addRootElement(parentElem);\n    }\n\n    // Add the detached element to the parent\n    parentElem.appendChild(rootElemRef.current);\n\n    return function removeElement() {\n      rootElemRef.current.remove();\n      if (parentElem.childNodes.length === -1) {\n        parentElem.remove();\n      }\n    };\n  }/*, []*/);\n\n  /**\n   * It's important we evaluate this lazily:\n   * - We need first render to contain the DOM element, so it shouldn't happen\n   *   in useEffect. We would normally put this in the constructor().\n   * - We can't do 'const rootElemRef = useRef(document.createElement('div))',\n   *   since this will run every single render (that's a lot).\n   * - We want the ref to consistently point to the same DOM element and only\n   *   ever run once.\n   * @link https://reactjs.org/docs/hooks-faq.html#how-to-create-expensive-objects-lazily\n   */\n  function getRootElem() {\n    if (!rootElemRef.current) {\n      rootElemRef.current = document.createElement('div');\n    }\n    return rootElemRef.current;\n  }\n\n  return getRootElem();\n}\n\nexport default usePortal;","/**\n * got this code from @link https://www.jayfreestone.com/writing/react-portals-with-hooks/\n */\n\nimport React from 'react'\nimport { createPortal } from 'react-dom';\n\nimport usePortal from '../../assests/hooks/usePortal';\n\nimport './index.scss'\n\n/**\n * @example\n * <Portal>\n *   <p>Thinking with portals</p>\n * </Portal>\n */\nconst Portal = ({ id, children }) => {\n  const target = usePortal(id);\n  return createPortal(\n    <div className='modal'> {/*this <div> added for modal styles */}\n      {children}\n    </div>,\n    target,\n  );\n};\n\nexport default Portal;\n","import React from 'react'\n\nimport './index.scss'\n\nconst Loader = () => (\n    <div className=\"loading\">\n      <div className=\"dot d1\"></div>\n      <div className=\"dot d2\"></div>\n      <div className=\"dot d3\"></div>\n    </div>\n)\n\nexport default Loader","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport {useSelector} from 'react-redux'\n\nimport './index.scss'\n\nconst ErrorPage = () => {\n  const categories = useSelector(state => Object.keys(state.categories.entities))\n  const {connectionError, notFoundError} = useSelector(state => state.errors)\n  const classNames = connectionError.isError ? '.error-page .error-modal' : '.error-page'\n \n  return (\n    <div className={classNames}>\n      {connectionError.isError && (<h2>{connectionError.log}</h2>)}\n      {!connectionError.isError && notFoundError.isError && (\n        <React.Fragment>\n        <h3>{`Error: ${notFoundError.log} is NOT FOUND, try:`}</h3>\n        <ul>\n          {categories.map((category, i) => (\n            <li key={i}><Link to={`/${category}/`}>{`/${category}/`}</Link></li>\n          ))}\n        </ul>\n        </React.Fragment>\n      )}\n    </div>\n  )\n}\n\nexport default ErrorPage","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport './index.scss'\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom'\n\n//components\nimport Header from '../header'\nimport Home from '../../components/home'\nimport Category from '../category'\nimport Portal from '../portal'\nimport Loader from '../../components/loader'\nimport ErrorPage from '../error-page'\n\nconst App = () => {\n  const categories = useSelector(state => state.categories)\n  const { notFoundError, connectionError } = useSelector(state => state.errors)\n  const { isFetching } = categories\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/:category\">\n            {notFoundError.isError ? <ErrorPage /> : <Category />}\n          </Route>\n        </Switch>\n      </Router>\n      {isFetching && !connectionError.isError && (\n        <Portal id=\"modal-root\">\n          <Loader />\n        </Portal>\n      )}\n      {connectionError.isError && (\n        <Portal id=\"modal-root\">\n          <ErrorPage />\n        </Portal>\n      )}\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {combineReducers} from 'redux'\n\nimport categoriesReducer from './category-slice'\nimport errorsReducer from './error-slice'\n\nexport default combineReducers({\n  errors: errorsReducer,\n  categories: categoriesReducer,\n});","import { put, call, takeEvery } from \"redux-saga/effects\";\r\nimport fetch from \"cross-fetch\";\r\nimport { urlBuilder } from \"../../assests/config/swapi.config\";\r\n\r\nimport {\r\n  requestAll,\r\n  receiveAll,\r\n  requestItem,\r\n  receiveItem,\r\n  cancelFetching,\r\n  requestPage,\r\n  receivePage,\r\n  searchRequest,\r\n  receiveSearchData,\r\n} from \"../reducers/category-slice\";\r\nimport { setConnectionError } from \"../reducers/error-slice\";\r\n\r\nfunction* reqAllCategoryNames() {\r\n  try {\r\n    const categories = yield call(fetch, urlBuilder());\r\n    const names = yield categories.json().then(res => res);\r\n    yield put(receiveAll(names));\r\n  } catch (err) {\r\n    yield put(cancelFetching());\r\n    yield put(setConnectionError({ isError: true, log: err.message }));\r\n  }\r\n}\r\n\r\nexport function* watchReqAll(){\r\n  yield takeEvery(requestAll.toString(), reqAllCategoryNames);\r\n}\r\n\r\nfunction* reqPage({payload}){\r\n  const {category, page} = payload\r\n  try {\r\n    const results = yield call(fetch, urlBuilder({category, page}))\r\n    const json = yield results.json().then(res => res);\r\n    yield put(receivePage({category, page, json}))\r\n  } catch(err) {\r\n    yield put(cancelFetching());\r\n    yield put(setConnectionError({ isError: true, log: err.message }));\r\n  }\r\n}\r\n\r\nexport function* watchReqPage() {\r\n  yield takeEvery(requestPage.toString(), reqPage)\r\n}\r\n\r\nfunction* makeSearch({payload}){\r\n  const {category, search} = payload\r\n  try{\r\n    const results = yield call(fetch, urlBuilder({category, search}))\r\n    const json = yield results.json().then(res => res);\r\n    yield put(receiveSearchData({category, query: search, json}))\r\n  } catch(err) {\r\n    yield put(cancelFetching());\r\n    yield put(setConnectionError({ isError: true, log: err.message }));\r\n  }\r\n}\r\n\r\nexport function* watchSearch(){\r\n  yield takeEvery(searchRequest.toString(), makeSearch)\r\n}\r\n\r\nfunction* fetchItem({payload}){\r\n  const {category, url} = payload\r\n  try{\r\n    const results = yield call(fetch, urlBuilder({category, url}))\r\n    const json = yield results.json().then(res => res);\r\n    yield put(receiveItem({category, json}))\r\n  } catch(err){\r\n    yield put(cancelFetching());\r\n    yield put(setConnectionError({ isError: true, log: err.message }));\r\n  }\r\n}\r\n\r\nexport function* watchReqItem(){\r\n  yield takeEvery(requestItem.toString(), fetchItem)\r\n}\r\n","import { all } from 'redux-saga/effects'\r\n\r\nimport { watchReqAll, watchReqPage, watchSearch, watchReqItem } from './category-saga'\r\n\r\nexport default function* rootSaga() {\r\n  yield all([\r\n    watchReqAll(),\r\n    watchReqPage(),\r\n    watchSearch(),\r\n    watchReqItem(),\r\n  ])\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './containers/app';\nimport * as serviceWorker from './serviceWorker';\n\nimport { configureStore } from \"redux-starter-kit\";\nimport createSagaMiddleware from 'redux-saga'\nimport { Provider } from \"react-redux\";\nimport rootReducer from \"./redux-stuff/reducers\";\n\nimport rootSaga from \"./redux-stuff/sagas\"\n\nconst sagaMiddleWare = createSagaMiddleware()\n\nconst store = configureStore({\n  reducer: rootReducer,\n  middleware: [sagaMiddleWare]\n});\n\nsagaMiddleWare.run(rootSaga)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n"],"sourceRoot":""}