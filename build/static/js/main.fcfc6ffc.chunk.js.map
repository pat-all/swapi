{"version":3,"sources":["components/header-button/index.js","components/search/index.js","assests/config/constants.js","assests/config/swapi.config.js","redux-stuff/reducers/category-slice.js","components/header/index.js","components/home/index.js","components/right-section/index.js","components/left-section-item/index.js","redux-stuff/reducers/error-slice.js","components/page-button/index.js","components/pagination/index.js","components/left-section/index.js","components/category/index.js","assests/hooks/usePortal.js","components/portal/index.js","components/loader/index.js","components/error-page/index.js","components/app/index.js","serviceWorker.js","redux-stuff/reducers/index.js","redux-stuff/sagas/category-saga.js","redux-stuff/sagas/index.js","index.js"],"names":["HeaderButton","children","className","Search","useState","query","setQuery","category","useLocation","pathname","split","type","placeholder","value","onChange","e","target","to","regExps","string","number","page","search","notFoundTypes","pageExpTest","str","test","getFirstValue","item","Object","keys","urlBuilder","set","url","cutUrl","includes","replace","replaceUrl","categories","match","filterParams","searchResults","searchInCategory","fieldName","fieldValue","length","searchData","pages","singleSearch","result","i","j","push","getSearchQuery","searchExpTest","categorySlice","createSlice","slice","initialState","isFetching","entities","reducers","requestAll","state","receiveAll","action","payload","map","name","count","activePage","results","requestPage","receivePage","json","setActivePage","Number","requestItem","receiveItem","cancelFetching","searchRequest","receiveSearchData","forEach","actions","fetchDataFail","React","memo","useSelector","connectionError","errors","isError","categoriesNames","dispatch","useDispatch","useEffect","exact","activeClassName","key","Home","RightSection","useRouteMatch","categoryName","useParams","itemKeys","items","style","background","Array","isArray","data","Fragment","isUrlCheck","LeftSectionItem","title","errorSlice","log","notFoundError","undefined","setConnectionError","setNotFoundError","PageButton","clickHandler","onClick","Pagination","pagesCount","showLeftStep","showLeftDots","showRightStep","showRightDots","prevPages","setPrevPages","nextPages","setNextPages","isShownPrevPages","togglePrevPages","isShownNextPages","toggleNextPages","pagesRange","start","end","hidePageButtons","nums","clicHandler","newPages","PageNumbers","templateColumns","gridSettings","num","columns","row","Math","floor","column","console","LeftSection","searchStr","searchQuery","trim","entitiesCount","totalCount","ceil","currentCount","path","component","usePortal","id","rootElemRef","useRef","rootElem","existingParent","document","querySelector","parentElem","rootContainer","createElement","setAttribute","createRootElement","body","insertBefore","lastElementChild","nextElementSibling","appendChild","current","remove","childNodes","Portal","createPortal","Loader","ErrorPage","classNames","App","Boolean","window","location","hostname","combineReducers","errorsReducer","categoriesReducer","reqAllCategoryNames","watchReqAll","reqPage","watchReqPage","makeSearch","watchSearch","fetchItem","watchReqItem","call","fetch","then","res","names","put","message","takeEvery","toString","rootSaga","all","sagaMiddleWare","createSagaMiddleware","store","configureStore","reducer","rootReducer","middleware","run","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fcfc6ffc.chunk.js","sourcesContent":["import React from 'react';\n\nimport './index.scss';\n\nconst HeaderButton = ({children}) => (\n    <button className=\"header-item header-button\">\n      {children}\n    </button>\n);\n\nexport default HeaderButton;","import React, { useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport HeaderButton from \"../header-button\";\n\nimport \"./index.scss\";\n\nconst Search = () => {\n  const [query, setQuery] = useState(\"\");\n  const { pathname } = useLocation();\n  const category = pathname.split(\"/\")[1];\n  return (\n    <div className=\"search\">\n      <input\n        type=\"text\"\n        placeholder=\"Search\"\n        value={query}\n        onChange={e => {\n          setQuery(e.target.value);\n        }}\n      />\n      <HeaderButton>\n        <Link to={`/${category}/?search=${query}`}>Search</Link>\n      </HeaderButton>\n    </div>\n  );\n};\n\nexport default Search;\n","export const SWAPI_BASE_URL = 'https://swapi.co/api'\nconst CORS_BREAK = 'http://cors-anywhere.herokuapp.com/'\n//export const API_BASE = CORS_BREAK + SWAPI_BASE_URL\nexport const API_BASE = '/api'\n\nexport const ITEMS_ON_PAGE = 10\n\nexport const regExps = {\n  string: /[a-z]+/,\n  number: /[0-9]+/,\n  page: /\\?page=[0-9]+/,\n  search: /\\?search=.+/\n}\n\nexport const notFoundTypes = {\n  category: 'CATEGORY',\n  page: 'PAGE'\n}\n\nexport const SEARCH_FIELDS = [\n  \"name\", \"title\", \"model\"\n]","import {\n  SWAPI_BASE_URL,\n  ITEMS_ON_PAGE,\n  regExps,\n  SEARCH_FIELDS,\n  API_BASE\n} from \"./constants\";\n\nexport const pageExpTest = str => regExps.page.test(str);\n\nexport const calcId = (page, i) => (page - 1) * ITEMS_ON_PAGE + i + 1;\n\nexport const calcIdFromUrl = id =>\n  id % ITEMS_ON_PAGE === 0 ? ITEMS_ON_PAGE - 1 : (id % ITEMS_ON_PAGE) - 1;\n\nexport const calcPage = id => Math.ceil(id / ITEMS_ON_PAGE);\n\nexport const getFirstValue = item => {\n  const keys = Object.keys(item);\n  return item[keys[0]];\n};\n\nexport const urlBuilder = (set = {}) => {\n  const { category, page, search, url } = set;\n  if (category && !page && !search) return `${API_BASE}/${category}`;\n  else if (category && page > 0 && !search)\n    return `${API_BASE}/${category}/?page=${page}`;\n  else if (category && !page && search)\n    return `${API_BASE}/${category}/?search=${search}`;\n  else if (url && !category && !page && !search) return `${API_BASE}${url}`;\n  else return API_BASE;\n};\n\nexport const filterParams = (set = {}) => {\n  const { string, number } = set;\n  return string\n    ? string.match(regExps.string)[0]\n    : number\n    ? typeof number === \"number\"\n      ? number\n      : number.match(regExps.number)[0]\n    : null;\n};\n\nexport const getPageFromSearch = searchStr => {\n  if (pageExpTest(searchStr)) {\n    return searchStr.match(regExps.number)[0];\n  } else return 1;\n};\n\nexport const lowDashReplacer = str => str.replace(/_/g, \" \");\n\nexport const cutUrl = str =>\n  str.includes(SWAPI_BASE_URL) ? str.replace(SWAPI_BASE_URL, \"\") : str;\n\nexport const isUrlCheck = str => /https/.test(str)\n\nexport const replaceUrl = (categories, url) => {\n  const myUrl = cutUrl(url)\n  const categoryName = filterParams({ string: myUrl });\n  const category = categories[categoryName]\n  const searchResults = searchInCategory(category, {fieldName: \"url\", fieldValue: url})\n  const item = searchResults.length > 0 ? searchResults[0] : null \n    \n  return item ? getFirstValue(item) : null;\n};\n\nexport const searchInCategory = (category = {}, searchData = {}) => {\n  const { pages } = category;\n  const { fieldName, fieldValue } = searchData;\n  const singleSearch = fieldName === \"url\";\n  const result = [];\n\n  if (pages && fieldName && fieldValue) {\n    for (let i = 0; i < pages.length; i++) {\n      const page = pages[i];\n      if (page) {\n        for (let j = 0; j < page.length; j++) {\n          const item = page[j];\n          if (item[fieldName].includes(fieldValue)) {\n            result.push(item);\n            if (singleSearch) return result;\n          }\n        }\n      }\n      if (singleSearch && result.length > 0) return result;\n    }\n    return result;\n  }\n  return result;\n};\n\nexport const searchData = (set = {}) => {\n  const { categories, category, query } = set;\n  const result = [];\n  if (categories && categories[category] && query) {\n    SEARCH_FIELDS.forEach(field => {\n      const iterResult = searchInCategory(categories[category], {\n        [field]: query\n      });\n      if (iterResult.length > 0) result.push(iterResult);\n    });\n  }\n  return result;\n};\n\nexport const searchExpTest = str => regExps.search.test(str)\n\nexport const getSearchQuery = str => searchExpTest(str) ? str.replace(\"?search=\", \"\") : null\n\nexport const replaceDubleSlash = str => str.replace(\"//\", \"/\")","import { createSlice } from \"redux-starter-kit\";\n\nimport {searchInCategory} from \"../../assests/config/swapi.config\"\n\nconst categorySlice = createSlice({\n  slice: \"categories\",\n  initialState: { isFetching: false, entities: {} },\n  reducers: {\n    requestAll(state) {\n      state.isFetching = true;\n    },\n    receiveAll(state, action) {\n      state.isFetching = false;\n      const categoriesNames = Object.keys(action.payload);\n      categoriesNames.map(\n        name => (state.entities[name] = { count: 0, activePage: 1, pages: [], search:{query: \"\", results: []} })\n      );\n    },\n    requestPage(state, action) {},\n    receivePage(state, action) {\n      const { category, json, page } = action.payload;\n      const { count, results } = json;\n      state.entities[category].count = count;\n      state.entities[category].pages[page] = results;\n    },\n    setActivePage(state, action) {\n      const { category, page } = action.payload;\n      state.entities[category].activePage = Number(page);\n    },\n    requestItem(state, action) {},\n    receiveItem(state, action) {\n      const { category, json } = action.payload;\n      if (state.entities[category].pages[0]) {\n        state.entities[category].pages[0].push(json.results[0]);\n      } else {\n        state.entities[category].pages[0] = [json.results[0]];\n      }\n    },\n    cancelFetching(state) {\n      state.isFetching = false;\n    },\n    searchRequest(state, action){},\n    receiveSearchData(state, action){\n      const {category, query, json} = action.payload\n      const searchResults = json.results\n      const pages = state.entities[category].pages\n      state.entities[category].search = {query, results: searchResults}\n\n      searchResults.forEach(item => {\n        if(searchInCategory(state.entities[category], {fieldName: \"url\", fieldValue: item.url}).length === 0){\n          if(pages[0]){\n            pages[0].push(item)\n          } else {\n            pages[0] = [item]\n          }\n        }\n      })\n      \n      \n    }\n  }\n});\n\nexport const {\n  requestAll,\n  receiveAll,\n  requestItem,\n  receiveItem,\n  setActivePage,\n  requestPage,\n  receivePage,\n  fetchDataFail,\n  cancelFetching,\n  searchRequest,\n  receiveSearchData,\n} = categorySlice.actions;\n\nexport default categorySlice.reducer;\n","import React, { useEffect } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\n\n//styles\nimport './index.scss'\n\n//components\nimport Search from '../search'\n\nimport {requestAll} from '../../redux-stuff/reducers/category-slice'\n\nconst Header = () => {\n  const categories = useSelector(state => state.categories)\n  const connectionError = useSelector(state => state.errors.connectionError.isError)\n  const categoriesNames = Object.keys(categories.entities)\n  const dispatch = useDispatch()\n\n  const {isFetching} = categories\n\n  useEffect(() => {\n    if(!connectionError && !isFetching && categoriesNames.length === 0) {\n      //dispatch(fetchCategoriesNamesIfNeeded(categories))\n      dispatch(requestAll())\n    }\n  })\n  return (\n    <header>\n      <div className=\"header-section\">\n        <div className=\"header-logo header-item\">SWAPI</div>\n        <div className=\"header-item nav-top\">\n          <NavLink exact to=\"/\" activeClassName=\"selected\">\n            home\n          </NavLink>\n        </div>\n\n        {categoriesNames.map(name => (\n          <div key={name} className=\"header-item nav-top\">\n            <NavLink to={`/${name}`} activeClassName=\"selected\">\n              {name}\n            </NavLink>\n          </div>\n        ))}\n      </div>\n      <div className=\"header-section\">\n        <Search />\n      </div>\n    </header>\n  )\n}\n\nexport default React.memo(Header)\n","import React from 'react';\n\nimport './index.scss';\n\nconst Home = () => (\n  <div>\n    <h2>\n      Hello, this is Home component\n    </h2>\n  </div>\n)\n\nexport default Home;","import React, { useEffect } from \"react\";\nimport { useParams, Link, useRouteMatch } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { requestItem } from \"../../redux-stuff/reducers/category-slice\"\n\nimport {\n  lowDashReplacer,\n  cutUrl,\n  searchInCategory,\n  replaceUrl,\n  isUrlCheck\n} from \"../../assests/config/swapi.config\";\n\nimport \"./index.scss\";\n\nconst RightSection = () => {\n  const { url } = useRouteMatch();\n  const dispatch = useDispatch();\n  const { category: categoryName } = useParams();\n  const { entities, isFetching } = useSelector(state => state.categories);\n  const { connectionError } = useSelector(state => state.errors);\n  const category = entities[categoryName];\n\n  let itemKeys = [];\n  let items = [];\n  let item = null;\n\n  useEffect(() => {\n    if (!isFetching && !connectionError.isError && category && !item && searchInCategory(category, { fieldName: \"url\", fieldValue: url }).length === 0) {\n      dispatch(requestItem({ category: categoryName, url }));\n    }\n  });\n\n  if (!isFetching && category && url && !item) {\n    items = searchInCategory(category, { fieldName: \"url\", fieldValue: url });\n    item = items.length > 0 ? items[0] : null;\n    itemKeys = item ? Object.keys(item) : [];\n  }\n  return (\n    <section className=\"right-section\">\n      <div className=\"data-container\">\n        {item &&\n          itemKeys.length > 0 &&\n          itemKeys.map((key, i) => {\n            const style = {\n              background: i % 2 === 0 ? \"#efebe9\" : \"transparent\"\n            };\n            return (\n              <div className=\"row\" key={i} style={style}>\n                <div className=\"left-cell\">{lowDashReplacer(key)}</div>\n                <div className=\"right-cell\">\n                  {Array.isArray(item[key]) ? (\n                    item[key].map((data, i) => (\n                      <React.Fragment key={i}>\n                        <Link to={cutUrl(data)}>\n                          {replaceUrl(entities, data)\n                            ? replaceUrl(entities, data)\n                            : cutUrl(data)}\n                        </Link>{\" \"}\n                        <br></br>\n                      </React.Fragment>\n                    ))\n                  ) : isUrlCheck(item[key]) && cutUrl(item[key]) ? (\n                    <Link to={cutUrl(item[key])}>\n                      {key !== \"url\" && replaceUrl(entities, item[key])\n                        ? replaceUrl(entities, item[key])\n                        : cutUrl(item[key])}\n                    </Link>\n                  ) : (\n                    item[key]\n                  )}\n                </div>\n              </div>\n            );\n          })}\n      </div>\n    </section>\n  );\n};\n\nexport default RightSection;\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport './index.scss'\n\nconst LeftSectionItem = ({ title, to }) => {\n  return (\n    <div className=\"left-section-item\">\n      <NavLink to={to} activeClassName=\"selected-left\">\n        <h5>{title}</h5>\n      </NavLink>\n    </div>\n  )\n}\n\nexport default LeftSectionItem\n","import { createSlice } from 'redux-starter-kit'\n\nconst errorSlice = createSlice({\n  slice: \"errors\",\n  initialState: { connectionError: {isError: false, log: \"\"}, notFoundError: {isError: false, type: undefined, log: \"\"} },\n  reducers: {\n    setConnectionError(state, action){\n      const { isError, log } = action.payload\n      state.connectionError = { isError, log }\n    },\n    setNotFoundError(state, action){\n      const { isError, log, type } = action.payload\n      state.notFoundError = { isError, log, type }\n    }\n  }\n})\n\nexport const { setConnectionError, setNotFoundError } = errorSlice.actions\n\nexport default errorSlice.reducer","import React from 'react'\nimport {Link} from 'react-router-dom'\n\nimport './index.scss'\n\nimport {replaceDubleSlash} from \"../../assests/config/swapi.config\"\n\nconst PageButton = ({ children, to, clickHandler, style }) => {\n  return (\n    <button className=\"page-button\" onClick={clickHandler} style={style}>\n      {to ? (<Link to={replaceDubleSlash(to)}>{children}</Link>) : children}\n    </button>\n  )\n}\n\nexport default PageButton\n","import React, { useState } from 'react'\nimport { useRouteMatch } from 'react-router-dom'\n\nimport './index.scss'\n\nimport PageButton from '../page-button'\n\nconst Pagination = ({ page, pagesCount }) => {\n  const showLeftStep = page > 1\n  const showLeftDots = page > 2\n  const showRightStep = page < pagesCount\n  const showRightDots = pagesCount - page > 1\n  const [prevPages, setPrevPages] = useState([])\n  const [nextPages, setNextPages] = useState([])\n  const [isShownPrevPages, togglePrevPages] = useState(false)\n  const [isShownNextPages, toggleNextPages] = useState(false)\n\n  const { url } = useRouteMatch()\n\n  const pagesRange = function* (start, end){\n    while(start < end){\n      yield start++\n    }\n  }\n\n  const leftDotsClickHandler = () => {\n    const newPages = pagesRange(1, page)\n\n    setPrevPages([...newPages])\n    togglePrevPages(!isShownPrevPages)\n    toggleNextPages(false)\n  }\n  const rightDotsClickHandler = () => {\n    const newPages = pagesRange(page + 1, pagesCount + 1)\n    \n    setNextPages([...newPages])\n    toggleNextPages(!isShownNextPages)\n    togglePrevPages(false)\n  }\n\n  const hidePageButtons = () => {\n    toggleNextPages(false)\n    togglePrevPages(false)\n  }\n\n  return (\n    <div className=\"pagination\">\n      {prevPages.length > 0 && isShownPrevPages && (\n        <PageNumbers nums={prevPages} clicHandler={hidePageButtons}/>\n      )}\n      {nextPages.length > 0 && isShownNextPages && (\n        <PageNumbers nums={nextPages} clicHandler={hidePageButtons}/>\n      )}\n      <ul>\n        {showLeftStep && (\n          <li onClick={hidePageButtons}>\n            <PageButton to={`${url}/?page=${page - 1}`}>{'<'}</PageButton>\n          </li>\n        )}\n        {showLeftDots && (\n          <li onClick={leftDotsClickHandler}>\n            <PageButton>{'...'}</PageButton>\n          </li>\n        )}\n        <li onClick={hidePageButtons}>\n          <PageButton>{page}</PageButton>\n        </li>\n        {showRightDots && (\n          <li onClick={rightDotsClickHandler}>\n            <PageButton>{'...'}</PageButton>\n          </li>\n        )}\n        {showRightStep && (\n          <li onClick={hidePageButtons}>\n            <PageButton to={`${url}/?page=${page + 1}`}>{'>'}</PageButton>\n          </li>\n        )}\n      </ul>\n    </div>\n  )\n}\n\nexport default Pagination\n\nconst PageNumbers = ({ nums, clicHandler }) => {\n  const columns = 4\n  const templateColumns = nums.length >= columns ? columns : nums.length\n  const gridSettings = (num, columns)=> {\n    const row = Math.floor(num / (columns + 1)) + 1\n    const column = num % (columns ) === 0 ? columns : num % (columns)\n    return {\n      \"gridColumn\": `${column} / ${column + 1}`,\n      \"gridRow\": `${row} / ${row + 1}`\n    }\n  }\n  const { url } = useRouteMatch()\n  return (\n    <div className=\"page-buttons-container\" style={{\"grid-template-columns\": `repeat(${templateColumns}, 39px)`}}>\n      {nums.map((num, i) => {\n        console.log(i + 1)\n        return (\n            <PageButton key={num} to={`${url}/?page=${num}`} clickHandler={clicHandler} style={gridSettings(i + 1, columns)}>\n              {num}\n            </PageButton>\n        )\n      })}\n    </div>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useParams, useLocation } from 'react-router-dom'\n\nimport './index.scss'\n\nimport LeftSectionItem from '../left-section-item'\n\nimport { ITEMS_ON_PAGE, notFoundTypes } from '../../assests/config/constants'\n\nimport { setNotFoundError } from '../../redux-stuff/reducers/error-slice'\nimport { setActivePage, requestPage, searchRequest } from '../../redux-stuff/reducers/category-slice'\nimport {\n  getPageFromSearch,\n  pageExpTest,\n  getFirstValue,\n  cutUrl,\n  getSearchQuery,\n} from '../../assests/config/swapi.config'\nimport Pagination from '../pagination'\n\nconst LeftSection = () => {\n  const { category: categoryName } = useParams()\n  const {pathname, search} = useLocation()\n  const page = `/${categoryName}/` === pathname ? getPageFromSearch(search) : undefined\n  const searchQuery = `/${categoryName}/` === pathname && getSearchQuery(search) && getSearchQuery(search).trim().length > 0 ? getSearchQuery(search).trim() : null\n  const { entities, isFetching } = useSelector(state => state.categories)\n  const {connectionError, notFoundError } = useSelector(state => state.errors)\n  const category = entities[categoryName]\n  const activePage = category ? category.activePage : 1\n  const categoriesNames = Object.keys(entities)\n  const entitiesCount = categoriesNames.length\n  const dispatch = useDispatch()\n  const totalCount = category ? (category.count ? category.count : 0) : 0\n  const pagesCount = totalCount ? Math.ceil(totalCount / ITEMS_ON_PAGE) : 0\n  let items = []\n  let currentCount = 0\n\n  useEffect(() => {\n    if (entitiesCount > 0 && !connectionError.isError) {\n      if(categoriesNames.includes(categoryName)) {\n        if(notFoundError.isError) dispatch(setNotFoundError({isError: false, type: undefined, log: \"\"}))\n        if(!searchQuery && category.pages && !category.pages[activePage]){\n            dispatch(requestPage({category:categoryName, page: activePage}))\n        } else if(searchQuery && category.search.query !== searchQuery){\n          dispatch(searchRequest({category: categoryName, search: searchQuery}))\n        }\n      } else dispatch(setNotFoundError({isError: true, type: notFoundTypes.category, log: categoryName}))\n    }\n  })\n  useEffect(() => {\n    if (!isFetching && !connectionError.isError && category && pageExpTest(search) && !searchQuery && page) {\n      dispatch(setActivePage({category: categoryName, page}))\n    }\n  })\n\n  if (category && category.pages && category.pages[activePage] && !searchQuery) {\n    items = category.pages[activePage]\n    currentCount = items.length\n  } else if(category && category.search && searchQuery && category.search.query === searchQuery){\n    items = category.search.results\n  }\n  return (\n    <section className=\"left-section\">\n      {items.map((item, i) => {\n        return <LeftSectionItem key={i} title={getFirstValue(item)} to={cutUrl(item.url)} />\n      })}\n      {pagesCount > 1 && <Pagination page={activePage} pagesCount={pagesCount} />}\n      {currentCount > 0 && (\n        <div className=\"legend\">\n          {`${(activePage - 1) * ITEMS_ON_PAGE + 1} - ${(activePage - 1) * ITEMS_ON_PAGE +\n            currentCount} of ${totalCount}`}\n        </div>\n      )}\n    </section>\n  )\n}\n\nexport default LeftSection\n","import React from 'react'\nimport { Route, Switch, useRouteMatch } from 'react-router-dom'\n\nimport './index.scss'\n\nimport RightSection from '../right-section'\nimport LeftSection from '../left-section'\n\nconst Category = () => {\n  const { path } = useRouteMatch()\n\n  return (\n    <section className=\"category-section\">\n      <LeftSection />\n      <Switch>\n        <Route exact path={path}>\n          Select item from left part\n        </Route>\n        <Route path={`${path}/:id`} component={RightSection} />\n      </Switch>\n    </section>\n  )\n}\n\nexport default React.memo(Category)","/**\n * got this code from @link https://www.jayfreestone.com/writing/react-portals-with-hooks/\n */\n\nimport { useRef, useEffect } from 'react';\n\n/**\n * Creates DOM element to be used as React root.\n * @returns {HTMLElement}\n */\nfunction createRootElement(id) {\n  const rootContainer = document.createElement('div');\n  rootContainer.setAttribute('id', id);\n  return rootContainer;\n}\n\n/**\n * Appends element as last child of body.\n * @param {HTMLElement} rootElem \n */\nfunction addRootElement(rootElem) {\n  document.body.insertBefore(\n    rootElem,\n    document.body.lastElementChild.nextElementSibling,\n  );\n}\n\n/**\n * Hook to create a React Portal.\n * Automatically handles creating and tearing-down the root elements (no SRR\n * makes this trivial), so there is no need to ensure the parent target already\n * exists.\n * @example\n * const target = usePortal(id, [id]);\n * return createPortal(children, target);\n * @param {String} id The id of the target container, e.g 'modal' or 'spotlight'\n * @returns {HTMLElement} The DOM node to use as the Portal target.\n */\nfunction usePortal(id) {\n  const rootElemRef = useRef(null);\n\n  useEffect(function setupElement() {\n    // Look for existing target dom element to append to\n    const existingParent = document.querySelector(`#${id}`);\n    // Parent is either a new root or the existing dom element\n    const parentElem = existingParent || createRootElement(id);\n\n    // If there is no existing DOM element, add a new one.\n    if (!existingParent) {\n      addRootElement(parentElem);\n    }\n\n    // Add the detached element to the parent\n    parentElem.appendChild(rootElemRef.current);\n\n    return function removeElement() {\n      rootElemRef.current.remove();\n      if (parentElem.childNodes.length === -1) {\n        parentElem.remove();\n      }\n    };\n  }/*, []*/);\n\n  /**\n   * It's important we evaluate this lazily:\n   * - We need first render to contain the DOM element, so it shouldn't happen\n   *   in useEffect. We would normally put this in the constructor().\n   * - We can't do 'const rootElemRef = useRef(document.createElement('div))',\n   *   since this will run every single render (that's a lot).\n   * - We want the ref to consistently point to the same DOM element and only\n   *   ever run once.\n   * @link https://reactjs.org/docs/hooks-faq.html#how-to-create-expensive-objects-lazily\n   */\n  function getRootElem() {\n    if (!rootElemRef.current) {\n      rootElemRef.current = document.createElement('div');\n    }\n    return rootElemRef.current;\n  }\n\n  return getRootElem();\n}\n\nexport default usePortal;","/**\n * got this code from @link https://www.jayfreestone.com/writing/react-portals-with-hooks/\n */\n\nimport React from 'react'\nimport { createPortal } from 'react-dom';\n\nimport usePortal from '../../assests/hooks/usePortal';\n\nimport './index.scss'\n\n/**\n * @example\n * <Portal>\n *   <p>Thinking with portals</p>\n * </Portal>\n */\nconst Portal = ({ id, children }) => {\n  const target = usePortal(id);\n  return createPortal(\n    <div className='modal'> {/*this <div> added for modal styles */}\n      {children}\n    </div>,\n    target,\n  );\n};\n\nexport default Portal;\n","import React from 'react'\n\nimport './index.scss'\n\nconst Loader = () => (\n    <div className=\"loading\">\n      <div className=\"dot d1\"></div>\n      <div className=\"dot d2\"></div>\n      <div className=\"dot d3\"></div>\n    </div>\n)\n\nexport default Loader","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport {useSelector} from 'react-redux'\n\nimport './index.scss'\n\nconst ErrorPage = () => {\n  const categories = useSelector(state => Object.keys(state.categories.entities))\n  const {connectionError, notFoundError} = useSelector(state => state.errors)\n  const classNames = connectionError.isError ? '.error-page .error-modal' : '.error-page'\n \n  return (\n    <div className={classNames}>\n      {connectionError.isError && (<h2>{connectionError.log}</h2>)}\n      {!connectionError.isError && notFoundError.isError && (\n        <React.Fragment>\n        <h3>{`Error: ${notFoundError.log} is NOT FOUND, try:`}</h3>\n        <ul>\n          {categories.map((category, i) => (\n            <li key={i}><Link to={`/${category}/`}>{`/${category}/`}</Link></li>\n          ))}\n        </ul>\n        </React.Fragment>\n      )}\n    </div>\n  )\n}\n\nexport default ErrorPage","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport './index.scss'\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom'\n\n//components\nimport Header from '../header'\nimport Home from '../home'\nimport Category from '../category'\nimport Portal from '../portal'\nimport Loader from '../loader'\nimport ErrorPage from '../error-page'\n\nconst App = () => {\n  const categories = useSelector(state => state.categories)\n  const { notFoundError, connectionError } = useSelector(state => state.errors)\n  const { isFetching } = categories\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/:category\">\n            {notFoundError.isError ? <ErrorPage /> : <Category />}\n          </Route>\n        </Switch>\n      </Router>\n      {isFetching && !connectionError.isError && (\n        <Portal id=\"modal-root\">\n          <Loader />\n        </Portal>\n      )}\n      {connectionError.isError && (\n        <Portal id=\"modal-root\">\n          <ErrorPage />\n        </Portal>\n      )}\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {combineReducers} from 'redux'\n\nimport categoriesReducer from './category-slice'\nimport errorsReducer from './error-slice'\n\nexport default combineReducers({\n  errors: errorsReducer,\n  categories: categoriesReducer,\n});","import { put, call, takeEvery } from \"redux-saga/effects\";\r\nimport fetch from \"cross-fetch\";\r\nimport { urlBuilder } from \"../../assests/config/swapi.config\";\r\n\r\nimport {\r\n  requestAll,\r\n  receiveAll,\r\n  requestItem,\r\n  receiveItem,\r\n  cancelFetching,\r\n  requestPage,\r\n  receivePage,\r\n  searchRequest,\r\n  receiveSearchData,\r\n} from \"../reducers/category-slice\";\r\nimport { setConnectionError } from \"../reducers/error-slice\";\r\n\r\nfunction* reqAllCategoryNames() {\r\n  try {\r\n    const categories = yield call(fetch, urlBuilder());\r\n    const names = yield categories.json().then(res => res);\r\n    yield put(receiveAll(names));\r\n  } catch (err) {\r\n    yield put(cancelFetching());\r\n    yield put(setConnectionError({ isError: true, log: err.message }));\r\n  }\r\n}\r\n\r\nexport function* watchReqAll(){\r\n  yield takeEvery(requestAll.toString(), reqAllCategoryNames);\r\n}\r\n\r\nfunction* reqPage({payload}){\r\n  const {category, page} = payload\r\n  try {\r\n    const results = yield call(fetch, urlBuilder({category, page}))\r\n    const json = yield results.json().then(res => res);\r\n    yield put(receivePage({category, page, json}))\r\n  } catch(err) {\r\n    yield put(cancelFetching());\r\n    yield put(setConnectionError({ isError: true, log: err.message }));\r\n  }\r\n}\r\n\r\nexport function* watchReqPage() {\r\n  yield takeEvery(requestPage.toString(), reqPage)\r\n}\r\n\r\nfunction* makeSearch({payload}){\r\n  const {category, search} = payload\r\n  try{\r\n    const results = yield call(fetch, urlBuilder({category, search}))\r\n    const json = yield results.json().then(res => res);\r\n    yield put(receiveSearchData({category, query: search, json}))\r\n  } catch(err) {\r\n    yield put(cancelFetching());\r\n    yield put(setConnectionError({ isError: true, log: err.message }));\r\n  }\r\n}\r\n\r\nexport function* watchSearch(){\r\n  yield takeEvery(searchRequest.toString(), makeSearch)\r\n}\r\n\r\nfunction* fetchItem({payload}){\r\n  const {category, url} = payload\r\n  try{\r\n    const results = yield call(fetch, urlBuilder({category, url}))\r\n    const json = yield results.json().then(res => res);\r\n    yield put(receiveItem({category, json}))\r\n  } catch(err){\r\n    yield put(cancelFetching());\r\n    yield put(setConnectionError({ isError: true, log: err.message }));\r\n  }\r\n}\r\n\r\nexport function* watchReqItem(){\r\n  yield takeEvery(requestItem.toString(), fetchItem)\r\n}\r\n","import { all } from 'redux-saga/effects'\r\n\r\nimport { watchReqAll, watchReqPage, watchSearch, watchReqItem } from './category-saga'\r\n\r\nexport default function* rootSaga() {\r\n  yield all([\r\n    watchReqAll(),\r\n    watchReqPage(),\r\n    watchSearch(),\r\n    watchReqItem(),\r\n  ])\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app';\nimport * as serviceWorker from './serviceWorker';\n\nimport { configureStore } from \"redux-starter-kit\";\nimport createSagaMiddleware from 'redux-saga'\nimport { Provider } from \"react-redux\";\nimport rootReducer from \"./redux-stuff/reducers\";\n\nimport rootSaga from \"./redux-stuff/sagas\"\n\nconst sagaMiddleWare = createSagaMiddleware()\n\nconst store = configureStore({\n  reducer: rootReducer,\n  middleware: [sagaMiddleWare]\n});\n\nsagaMiddleWare.run(rootSaga)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n"],"sourceRoot":""}